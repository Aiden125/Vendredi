<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pro.vendredi.dao.StoreLikeDao">
<resultMap type="StoreLike" id="StoreLikeResult">
	<result property="slno" column="slno"/>
	<result property="mid" column="mid"/>
	<result property="sno" column="sno"/>
	<result property="sname" column="sname"/>
</resultMap>   


<select id="myLikeCnt" resultType="int">
    		SELECT COUNT(*)cnt FROM STORELIKE WHERE mid = #{mid}
</select>

<select id="likeCnt" resultType="int">
    		SELECT COUNT(*)cnt FROM STORELIKE WHERE mid = #{mid} and sno = #{sno}
</select>

<select id="myLikeList" parameterType="StoreLike" resultMap="StoreLikeResult">
	SELECT * FROM STORELIKE WHERE MID = #{MID}
    ORDER BY slno DESC LIMIT #{startRow}, #{endRow}
</select>

<insert id="insertLike" parameterType="StoreLike">
	INSERT INTO STORELIKE VALUES ((SELECT get_storeLike_seq('slno')), #{mid}, #{sno}, #{sname})
        
</insert>
<delete id="deleteLike" parameterType="StoreLike">
	DELETE FROM STORELIKE WHERE mid = #{mid} AND sno = #{sno}
</delete>
<select id="likeDetail" parameterType="int" resultMap="StoreLikeResult">
	SELECT * FROM STORELIKE WHERE sno = #{sno}
</select>


</mapper> 